Version 4
SHEET 1 1444 1024
WIRE -1632 -352 -2048 -352
WIRE -1632 -288 -1632 -352
WIRE -688 -208 -1440 -208
WIRE -256 -208 -688 -208
WIRE -224 -208 -256 -208
WIRE -160 -208 -224 -208
WIRE -48 -208 -80 -208
WIRE -2048 -192 -2048 -352
WIRE -48 -176 -48 -208
WIRE -224 -160 -224 -208
WIRE -1632 -112 -1632 -208
WIRE -1632 -112 -1744 -112
WIRE -1600 -112 -1632 -112
WIRE -1504 -112 -1520 -112
WIRE -1744 -64 -1744 -112
WIRE -1632 -64 -1632 -112
WIRE -224 -64 -224 -80
WIRE -112 -64 -224 -64
WIRE -2048 -32 -2048 -112
WIRE -608 -16 -640 -16
WIRE -512 -16 -544 -16
WIRE -1744 16 -1744 0
WIRE -1632 16 -1744 16
WIRE -1312 32 -1312 16
WIRE -112 32 -112 0
WIRE 1104 32 256 32
WIRE 1328 32 1104 32
WIRE -1632 48 -1632 16
WIRE -640 80 -640 -16
WIRE -640 80 -752 80
WIRE -624 80 -640 80
WIRE -512 80 -512 -16
WIRE -512 80 -544 80
WIRE -176 80 -512 80
WIRE -2032 112 -2096 112
WIRE -1904 112 -1952 112
WIRE -1696 112 -1840 112
WIRE -1504 128 -1504 -112
WIRE -1456 128 -1504 128
WIRE -1312 128 -1312 32
WIRE -1312 128 -1376 128
WIRE -640 176 -640 80
WIRE 256 176 256 32
WIRE -1696 208 -1696 112
WIRE -1440 208 -1440 -208
WIRE -2096 224 -2096 112
WIRE -2096 224 -2288 224
WIRE -2048 224 -2096 224
WIRE -1904 224 -1968 224
WIRE -1808 224 -1904 224
WIRE -1696 224 -1696 208
WIRE -1696 224 -1728 224
WIRE -1648 224 -1696 224
WIRE -1504 224 -1504 128
WIRE -1504 224 -1568 224
WIRE -1472 224 -1504 224
WIRE -688 224 -688 -208
WIRE -256 224 -256 -208
WIRE -224 224 -224 -64
WIRE -2288 240 -2288 224
WIRE -1312 240 -1312 128
WIRE -1312 240 -1408 240
WIRE -1248 240 -1312 240
WIRE -1056 240 -1168 240
WIRE -752 240 -752 80
WIRE -752 240 -1056 240
WIRE -720 240 -752 240
WIRE -2096 256 -2096 224
WIRE -1472 256 -1504 256
WIRE -640 256 -640 240
WIRE -640 256 -656 256
WIRE -576 256 -640 256
WIRE -272 256 -496 256
WIRE -176 256 -176 80
WIRE -176 256 -208 256
WIRE -32 256 -176 256
WIRE 96 256 48 256
WIRE 208 256 96 256
WIRE 640 256 576 256
WIRE 752 256 720 256
WIRE -2288 272 -2288 240
WIRE -720 272 -848 272
WIRE 1104 272 1104 32
WIRE -1056 288 -1056 240
WIRE 752 288 752 256
WIRE -1504 304 -1504 256
WIRE -848 304 -848 272
WIRE 576 320 576 256
WIRE 256 336 256 272
WIRE 512 336 256 336
WIRE 1328 352 1328 32
WIRE 512 368 432 368
WIRE -2288 384 -2288 352
WIRE -2096 384 -2096 336
WIRE -2096 384 -2288 384
WIRE 720 384 640 384
WIRE 1008 384 720 384
WIRE -2096 400 -2096 384
WIRE -1904 400 -1904 288
WIRE 432 400 432 368
WIRE 512 400 432 400
WIRE 512 432 480 432
WIRE -1504 448 -1504 384
WIRE -848 448 -848 384
WIRE -1056 464 -1056 368
WIRE -1440 496 -1440 272
WIRE -688 496 -688 288
WIRE -688 496 -1440 496
WIRE -240 496 -240 288
WIRE -240 496 -688 496
WIRE -144 496 -240 496
WIRE -32 496 -64 496
WIRE 480 496 480 432
WIRE 608 496 480 496
WIRE 720 496 720 384
WIRE 720 496 688 496
WIRE 256 512 256 336
WIRE -32 528 -32 496
WIRE 480 560 480 496
WIRE 432 576 432 400
WIRE 576 640 576 448
WIRE 640 640 576 640
WIRE 752 640 720 640
WIRE 752 672 752 640
WIRE 480 688 480 640
WIRE -1056 752 -1056 464
WIRE 1008 752 1008 384
WIRE 1008 752 -1056 752
WIRE 256 896 256 592
WIRE 1104 896 1104 352
WIRE 1104 896 256 896
WIRE 1328 896 1328 416
WIRE 1328 896 1104 896
WIRE 256 928 256 896
FLAG -1904 400 0
FLAG 256 928 0
FLAG -2096 400 0
FLAG -848 448 0
FLAG 752 288 0
FLAG 752 672 0
FLAG -48 -176 0
FLAG -32 528 0
FLAG 432 576 0
FLAG 480 688 0
FLAG -1504 448 0
FLAG -112 32 0
FLAG -1632 48 0
FLAG -2048 -32 0
FLAG -1312 32 U4Vo
FLAG -1696 208 Vin1
FLAG -1056 464 Ifb
FLAG 96 256 Vg
FLAG -2288 240 PulseIn
DATAFLAG -128 256 ""
DATAFLAG -2192 224 ""
DATAFLAG 400 336 ""
SYMBOL OpAmps\\LT1010 -240 192 R0
SYMATTR InstName U1
SYMBOL nmos 208 176 R0
SYMATTR InstName M1
SYMATTR Value IXTK200N10P
SYMBOL res 240 496 R0
SYMATTR InstName R1
SYMATTR Value .001
SYMATTR SpiceLine tol=1 pwr=10
SYMBOL OpAmps\\LT1220 -688 192 R0
SYMATTR InstName U2
SYMBOL res -1712 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -1952 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1.5K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -2080 352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 51.1
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -864 288 R0
SYMATTR InstName R6
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -528 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 13K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap -1920 224 R0
SYMATTR InstName C1
SYMATTR Value 180p
SYMATTR SpiceLine V=100 Irms=0 Rser=0 Lser=0
SYMBOL res -1040 384 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 2.61k
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL OpAmps\\LT1193 576 384 R0
SYMATTR InstName U3
SYMBOL voltage -176 -208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 4 56 VTop 2
SYMATTR InstName V1
SYMATTR Value 12
SYMATTR SpiceLine Rser=.01
SYMBOL voltage -48 496 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 60 56 VTop 2
SYMATTR InstName V2
SYMATTR Value 12
SYMATTR SpiceLine Rser=.01
SYMBOL voltage 624 256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 -60 56 VBottom 2
SYMATTR InstName V3
SYMATTR Value 5
SYMATTR SpiceLine Rser=.01
SYMBOL voltage 736 640 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 62 53 VTop 2
SYMATTR InstName V4
SYMATTR Value 5
SYMATTR SpiceLine Rser=.000001
SYMBOL voltage -2288 256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 10 200 Left 2
WINDOW 3 12 173 Left 2
SYMATTR SpiceLine Rser=.0001
SYMATTR InstName V5
SYMATTR Value PULSE(0 1 50e-9 200e-9 200e-9 2e-6)
SYMBOL voltage 1104 256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=.000001
SYMATTR InstName V6
SYMATTR Value 100
SYMBOL res 464 544 R0
SYMATTR InstName R2
SYMATTR Value 475
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 704 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 4.75K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -1936 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap -1840 96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 470p
SYMATTR SpiceLine V=1K Irms=0 Rser=0.685541 Lser=445.468p
SYMBOL OpAmps\\LT1220 -1440 176 R0
SYMATTR InstName U4
SYMBOL res -1360 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 5.9K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -1488 400 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R15
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -1152 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 2.61K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 64 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value .01
SYMBOL cap -544 -32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 47p
SYMBOL cap -656 176 R0
SYMATTR InstName C6
SYMATTR Value 47p
SYMBOL polcap 1312 352 R0
WINDOW 3 24 56 Left 2
SYMATTR InstName C9
SYMATTR Value 1500µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=200 Irms=4.77 Rser=0.060055 Lser=17.0549n mfg="Würth Elektronik" pn="861011086027 WCAP-AIG8 35x35" type="Al electrolytic"
SYMBOL res -240 -176 R0
SYMATTR InstName R18
SYMATTR Value 20
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -480 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 1
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL polcap -128 -64 R0
WINDOW 3 24 56 Left 2
SYMATTR InstName C10
SYMATTR Value 22µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=25 Irms=0 Rser=0.2 Lser=0 mfg="AVX" pn="TPSD226M025R0200" type="Tantalum"
SYMBOL res -1552 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 2.61K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -1504 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 7.87K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -1616 32 R180
WINDOW 0 -50 56 Left 2
WINDOW 3 -65 32 Left 2
SYMATTR InstName R23
SYMATTR Value 4.99k
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -1616 -192 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R24
SYMATTR Value 7.5k
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL voltage -2048 -208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR InstName V7
SYMATTR Value 5
SYMATTR SpiceLine Rser=.0001
SYMBOL polcap -1760 -64 R0
WINDOW 3 24 56 Left 2
SYMATTR InstName C3
SYMATTR Value 15µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=16 Irms=0 Rser=2.5 Lser=0 mfg="AVX" pn="TAJB156M016" type="Tantalum"
TEXT -2272 576 Left 2 !;op
TEXT -2280 544 Left 2 !.tran 0 4e-6 0 100e-9
